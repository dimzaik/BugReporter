<form [formGroup]="form" (submit)="formSubmit(form)">

  <div class="row form-group">
    <label  for="createdInput">Date Created</label>
    <input  type="text"
            class="form-control"
            id="createdInput"
            placeholder="Date created"
            formControlName="createdAt"
            disabled="true">

    <div *ngIf="form.get('createdAt').errors?.required && form.get('createdAt').dirty" class="text-danger">
      Field is required
    </div>
  </div>

  <div class="row form-group">
    <label  for="titleInput">Title</label>
    <input  type="text"
            class="form-control"
            id="titleInput"
            placeholder="Enter the Title"
            formControlName="title">

    <div *ngIf="form.get('title').errors?.required && form.get('title').dirty" class="text-danger">
      Field is required
    </div>
    <div *ngIf="form.get('title').errors?.minlength && form.get('title').dirty" class="text-danger">
      The minimum length of field is 3 characters
    </div>
  </div>

  <div class="row form-group">
    <label  for="descriptionInput">Description</label>
    <input  type="text"
            class="form-control"
            id="descriptionInput"
            placeholder="Enter description"
            formControlName="description">
    <div *ngIf="form.get('description').invalid && form.get('description').dirty" class="text-danger">
      Field is required
    </div>
  </div>

  <div class="row form-group">
    <label class="form-control-label">Priority</label>
    <select class="form-control" formControlName="priority">
      <option [ngValue]="null">Select</option>
      <option *ngFor="let lang of priority" [ngValue]="lang.value">
        {{lang.display}}
      </option>
    </select>
    <div *ngIf="form.get('priority').invalid && form.get('priority').dirty" class="text-danger">
      Field is required
    </div>
  </div>

  <div class="row form-group">
    <label class="form-control-label">Reporter</label>
    <select class="form-control" formControlName="reporter">
      <option [ngValue]="null">Select</option>
      <option *ngFor="let lang of reporters" [ngValue]="lang">
        {{lang}}
      </option>
    </select>
    <div *ngIf="form.get('reporter').invalid && form.get('reporter').dirty" class="text-danger">
      Field is required
    </div>
  </div>

  <div class="row form-group">
    <label class="form-control-label">Status</label>
    <select class="form-control" formControlName="status">
      <option [ngValue]="null">Select</option>
      <option *ngFor="let lang of statuses" [ngValue]="lang">
        {{lang}}
      </option>
    </select>
    <div *ngIf="form.get('status').invalid && form.get('status').dirty" class="text-danger">
      Field is required
    </div>
  </div>

  <div class="row form-group">

    <div class="col-4">
    <label>Comments</label>
    </div>

    <div class="col-4">
      <label>Add Comment</label>
    </div>

    <div class="col-4">
    <button type="button" mat-button (click)="addComment($event)" title="Add">
      <i class="fa fa-plus" aria-hidden="true" ></i>
    </button>
    </div>

  </div>

  <div *ngFor="let comment of form.get('comments').controls;" [formGroup]="comment">
    <div class="row form-group">
      <div class="col-4">
        <label for="reporter">Reporter</label>
        <input type="text"
               class="form-control"
               id="reporter"
               placeholder="Please write your name..."
               formControlName="reporter">
      </div>
      <div class="col-8">
        <label for="comment">Comment</label>
        <input type="text"
               class="form-control"
               id="comment"
               placeholder="Please write your comment..."
               formControlName="description">
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-form-label">
      <button class="mat-button" [disabled]="!form.valid">Submit</button>
    </div>
    <div class="col-form-label">
    <button class="mat-button" [routerLink]="''">Cancel</button>
    </div>
  </div>
</form>
